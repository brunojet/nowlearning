<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="DELETE">
        <access>public</access>
        <active>true</active>
        <api_name>x_snc_safety.ManifestParser</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description>Android Manifest Parser</description>
        <name>ManifestParser</name>
        <script><![CDATA[!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ManifestParser=e()}}(function(){return function(){return function e(t,r,s){function a(i,o){if(!r[i]){if(!t[i]){var u="function"==typeof require&&require;if(!o&&u)return u(i,!0);if(n)return n(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){return a(t[i][1][e]||e)},l,l.exports,e,t,r,s)}return r[i].exports}for(var n="function"==typeof require&&require,i=0;i<s.length;i++)a(s[i]);return a}}()({1:[function(e,t,r){"use strict";function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,n(s.key),s)}}function n(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var i=1,o=2,u=4,c=0,l=1,d=3,h=256,p=257,b=258,g=259,f=260,v=384,y=1,m=256,k=1,S=0,U=1,E=4,w=5,A=3,N=0,T=2,x=5,C=6,P=18,I=30,L=28,X=31,D=29,O=16,H=17,z=0,F=1,j=3,R=function(){return e=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=t,this.cursor=0,this.strings=[],this.resources=[],this.document=null,this.parent=null,this.stack=[],this.debug=r.debug||!1},(t=[{key:"readU8",value:function(){this.debug&&console.group("readU8"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer[this.cursor];return this.debug&&console.debug("value:",e),this.cursor+=1,this.debug&&console.groupEnd(),e}},{key:"readU16",value:function(){this.debug&&console.group("readU16"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer.readUInt16LE(this.cursor);return this.debug&&console.debug("value:",e),this.cursor+=2,this.debug&&console.groupEnd(),e}},{key:"readS32",value:function(){this.debug&&console.group("readS32"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer.readInt32LE(this.cursor);return this.debug&&console.debug("value:",e),this.cursor+=4,this.debug&&console.groupEnd(),e}},{key:"readU32",value:function(){this.debug&&console.group("readU32"),this.debug&&console.debug("cursor:",this.cursor);var e=this.buffer.readUInt32LE(this.cursor);return this.debug&&console.debug("value:",e),this.cursor+=4,this.debug&&console.groupEnd(),e}},{key:"readLength8",value:function(){this.debug&&console.group("readLength8");var e=this.readU8();return 128&e&&(e=(127&e)<<8,e+=this.readU8()),this.debug&&console.debug("length:",e),this.debug&&console.groupEnd(),e}},{key:"readLength16",value:function(){this.debug&&console.group("readLength16");var e=this.readU16();return 32768&e&&(e=(32767&e)<<16,e+=this.readU16()),this.debug&&console.debug("length:",e),this.debug&&console.groupEnd(),e}},{key:"readDimension",value:function(){this.debug&&console.group("readDimension");var e={value:null,unit:null,rawUnit:null},t=this.readU32(),r=255&e.value;switch(e.value=t>>8,e.rawUnit=r,r){case w:e.unit="mm";break;case N:e.unit="px";break;case k:e.unit="dp";break;case T:e.unit="sp";break;case A:e.unit="pt";break;case E:e.unit="in"}return this.debug&&console.groupEnd(),e}},{key:"readFraction",value:function(){this.debug&&console.group("readFraction");var e={value:null,type:null,rawType:null},t=this.readU32(),r=15&t;switch(e.value=this.convertIntToFloat(t>>4),e.rawType=r,r){case S:e.type="%";break;case U:e.type="%p"}return this.debug&&console.groupEnd(),e}},{key:"readHex24",value:function(){this.debug&&console.group("readHex24");var e=(16777215&this.readU32()).toString(16);return this.debug&&console.groupEnd(),e}},{key:"readHex32",value:function(){this.debug&&console.group("readHex32");var e=this.readU32().toString(16);return this.debug&&console.groupEnd(),e}},{key:"readTypedValue",value:function(){this.debug&&console.group("readTypedValue");var e={value:null,type:null,rawType:null},t=this.cursor,r=this.readU16();this.readU8();var s=this.readU8();switch(0===r&&(r=8),e.rawType=s,s){case O:e.value=this.readS32(),e.type="int_dec";break;case H:e.value=this.readS32(),e.type="int_hex";break;case j:var a=this.readS32();e.value=a>0?this.strings[a]:"",e.type="string";break;case F:var n=this.readU32();e.value="resourceId:0x".concat(n.toString(16)),e.type="reference";break;case P:e.value=0!==this.readS32(),e.type="boolean";break;case z:this.readU32(),e.value=null,e.type="null";break;case D:e.value=this.readHex24(),e.type="rgb8";break;case X:e.value=this.readHex24(),e.type="rgb4";break;case L:e.value=this.readHex32(),e.type="argb8";break;case I:e.value=this.readHex32(),e.type="argb4";break;case x:e.value=this.readDimension(),e.type="dimension";break;case C:e.value=this.readFraction(),e.type="fraction";break;default:var i=s.toString(16);console.debug("Not sure what to do with typed value of type 0x".concat(i,", falling back to reading an uint32.")),e.value=this.readU32(),e.type="unknown"}var o=t+r;if(this.cursor!==o){var u=s.toString(16),c=o-this.cursor;console.debug("Cursor is off by ".concat(c," bytes at ").concat(this.cursor," at supposed end of typed value of type 0x").concat(u,". The typed value started at offset ").concat(t," and is supposed to end at offset ").concat(o,". Ignoring the rest of the value.")),this.cursor=o}return this.debug&&console.groupEnd(),e}},{key:"convertIntToFloat",value:function(e){var t=new ArrayBuffer(4);return new Int32Array(t)[0]=e,new Float32Array(t)[0]}},{key:"readString",value:function(e){switch(this.debug&&console.group("readString",e),e){case"utf-8":var t=this.readLength8(e);this.debug&&console.debug("stringLength:",t);var r=this.readLength8(e);this.debug&&console.debug("byteLength:",r);var s=this.buffer.toString(e,this.cursor,this.cursor+=r);return this.debug&&console.debug("value:",s),this.debug&&console.groupEnd(),s;case"ucs2":return t=this.readLength16(e),this.debug&&console.debug("stringLength:",t),r=2*t,this.debug&&console.debug("byteLength:",r),s=this.buffer.toString(e,this.cursor,this.cursor+=r),this.debug&&console.debug("value:",s),this.debug&&console.groupEnd(),s;default:throw new Error("Unsupported encoding '".concat(e,"'"))}}},{key:"readChunkHeader",value:function(){this.debug&&console.group("readChunkHeader");var e={startOffset:this.cursor,chunkType:this.readU16(),headerSize:this.readU16(),chunkSize:this.readU32()};return this.debug&&console.debug("startOffset:",e.startOffset),this.debug&&console.debug("chunkType:",e.chunkType),this.debug&&console.debug("headerSize:",e.headerSize),this.debug&&console.debug("chunkSize:",e.chunkSize),this.debug&&console.groupEnd(),e}},{key:"readStringPool",value:function(e){if(this.debug&&console.group("readStringPool"),e.stringCount=this.readU32(),this.debug&&console.debug("stringCount:",e.stringCount),e.styleCount=this.readU32(),this.debug&&console.debug("styleCount:",e.styleCount),e.flags=this.readU32(),this.debug&&console.debug("flags:",e.flags),e.stringsStart=this.readU32(),this.debug&&console.debug("stringsStart:",e.stringsStart),e.stylesStart=this.readU32(),this.debug&&console.debug("stylesStart:",e.stylesStart),e.chunkType!==l)throw new Error("Invalid string pool header");for(var t=[],r=0,s=e.stringCount;r<s;++r)this.debug&&console.debug("offset:",r),t.push(this.readU32());var a=(e.flags&y)===y;this.debug&&console.debug("sorted:",a);var n=(e.flags&m)===m?"utf-8":"ucs2";this.debug&&console.debug("encoding:",n);var i=e.startOffset+e.stringsStart;this.cursor=i;for(var o=0,u=e.stringCount;o<u;++o)this.debug&&console.debug("string:",o),this.debug&&console.debug("offset:",t[o]),this.cursor=i+t[o],this.strings.push(this.readString(n));return this.cursor=e.startOffset+e.chunkSize,this.debug&&console.groupEnd(),null}},{key:"readResourceMap",value:function(e){this.debug&&console.group("readResourceMap");for(var t=Math.floor((e.chunkSize-e.headerSize)/4),r=0;r<t;++r)this.resources.push(this.readU32());return this.debug&&console.groupEnd(),null}},{key:"readXmlNamespaceStart",value:function(){return this.debug&&console.group("readXmlNamespaceStart"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.debug&&console.groupEnd(),null}},{key:"readXmlNamespaceEnd",value:function(){return this.debug&&console.group("readXmlNamespaceEnd"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.debug&&console.groupEnd(),null}},{key:"readXmlElementStart",value:function(){this.debug&&console.group("readXmlElementStart");var e={namespaceURI:null,nodeType:i,nodeName:null,attributes:[],childNodes:[]};this.readU32(),this.readU32();var t=this.readS32(),r=this.readS32();t>0&&(e.namespaceURI=this.strings[t]),e.nodeName=this.strings[r],this.readU16(),this.readU16();var s=this.readU16();this.readU16(),this.readU16(),this.readU16();for(var a=0;a<s;++a)e.attributes.push(this.readXmlAttribute());return this.document?(this.parent.childNodes.push(e),this.parent=e):this.document=this.parent=e,this.stack.push(e),this.debug&&console.groupEnd(),e}},{key:"readXmlAttribute",value:function(){this.debug&&console.group("readXmlAttribute");var e={namespaceURI:null,nodeType:o,nodeName:null,name:null,value:null,typedValue:null},t=this.readS32(),r=this.readS32(),s=this.readS32();return t>0&&(e.namespaceURI=this.strings[t]),e.nodeName=e.name=this.strings[r],s>0&&("versionName"===e.name&&(this.strings[s]=this.strings[s].replace(/[^\d\w-.]/g,"")),e.value=this.strings[s]),e.typedValue=this.readTypedValue(),this.debug&&console.groupEnd(),e}},{key:"readXmlElementEnd",value:function(){return this.debug&&console.group("readXmlCData"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.stack.pop(),this.parent=this.stack[this.stack.length-1],this.debug&&console.groupEnd(),null}},{key:"readXmlCData",value:function(){this.debug&&console.group("readXmlCData");var e={namespaceURI:null,nodeType:u,nodeName:"#cdata",data:null,typedValue:null};this.readU32(),this.readU32();var t=this.readS32();return t>0&&(e.data=this.strings[t]),e.typedValue=this.readTypedValue(),this.parent.childNodes.push(e),this.debug&&console.groupEnd(),e}},{key:"readNull",value:function(e){return this.debug&&console.group("readNull"),this.cursor+=e.chunkSize-e.headerSize,this.debug&&console.groupEnd(),null}},{key:"parse",value:function(){if(this.debug&&console.group("BinaryXmlParser.parse"),this.readChunkHeader().chunkType!==d)throw new Error("Invalid XML header");for(;this.cursor<this.buffer.length;){this.debug&&console.group("chunk");var e=this.cursor,t=this.readChunkHeader();switch(t.chunkType){case l:this.readStringPool(t);break;case v:this.readResourceMap(t);break;case h:this.readXmlNamespaceStart(t);break;case p:this.readXmlNamespaceEnd(t);break;case b:this.readXmlElementStart(t);break;case g:this.readXmlElementEnd(t);break;case f:this.readXmlCData(t);break;case c:this.readNull(t);break;default:throw new Error("Unsupported chunk type '".concat(t.chunkType,"'"))}var r=e+t.chunkSize;if(this.cursor!==r){var s=r-this.cursor,a=t.chunkType.toString(16);console.debug("Cursor is off by ".concat(s," bytes at ").concat(this.cursor," at supposed end of chunk of type 0x").concat(a,". The chunk started at offset ").concat(e," and is supposed to end at offset ").concat(r,". Ignoring the rest of the chunk.")),this.cursor=r}this.debug&&console.groupEnd()}return this.debug&&console.groupEnd(),this.document}}])&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.exports=R},{}],2:[function(e,t,r){"use strict";function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,n(s.key),s)}}function n(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var i=e("./binary"),o=function(){return e=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=t,this.xmlParser=new i(this.buffer,r)},(t=[{key:"collapseAttributes",value:function(e){for(var t=Object.create(null),r=0,s=Array.from(e.attributes);r<s.length;r++){var a=s[r];t[a.name]=a.typedValue.value}return t}},{key:"parseIntents",value:function(e,t){var r=this;return t.intentFilters=[],t.metaData=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"intent-filter":var s=r.collapseAttributes(e);s.actions=[],s.categories=[],s.data=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"action":s.actions.push(r.collapseAttributes(e));break;case"category":s.categories.push(r.collapseAttributes(e));break;case"data":s.data.push(r.collapseAttributes(e))}}),t.intentFilters.push(s);break;case"meta-data":t.metaData.push(r.collapseAttributes(e))}})}},{key:"parseApplication",value:function(e){var t=this,r=this.collapseAttributes(e);return r.activities=[],r.activityAliases=[],r.launcherActivities=[],r.services=[],r.receivers=[],r.providers=[],r.usesLibraries=[],r.metaData=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"activity":var s=t.collapseAttributes(e);t.parseIntents(e,s),r.activities.push(s),t.isLauncherActivity(s)&&r.launcherActivities.push(s);break;case"activity-alias":var a=t.collapseAttributes(e);t.parseIntents(e,a),r.activityAliases.push(a),t.isLauncherActivity(a)&&r.launcherActivities.push(a);break;case"service":var n=t.collapseAttributes(e);t.parseIntents(e,n),r.services.push(n);break;case"receiver":var i=t.collapseAttributes(e);t.parseIntents(e,i),r.receivers.push(i);break;case"provider":var o=t.collapseAttributes(e);o.grantUriPermissions=[],o.metaData=[],o.pathPermissions=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"grant-uri-permission":o.grantUriPermissions.push(t.collapseAttributes(e));break;case"meta-data":o.metaData.push(t.collapseAttributes(e));break;case"path-permission":o.pathPermissions.push(t.collapseAttributes(e))}}),r.providers.push(o);break;case"uses-library":r.usesLibraries.push(t.collapseAttributes(e));break;case"meta-data":r.metaData.push(t.collapseAttributes(e))}}),r}},{key:"isLauncherActivity",value:function(e){return e.intentFilters.some(function(e){return!!e.actions.some(function(e){return"android.intent.action.MAIN"===e.name})&&e.categories.some(function(e){return"android.intent.category.LAUNCHER"===e.name})})}},{key:"parse",value:function(){var e=this,t=this.xmlParser.parse(),r=this.collapseAttributes(t);return r.usesPermissions=[],r.usesPermissionsSDK23=[],r.permissions=[],r.permissionTrees=[],r.permissionGroups=[],r.instrumentation=null,r.usesSdk=null,r.usesConfiguration=null,r.usesFeatures=[],r.supportsScreens=null,r.compatibleScreens=[],r.supportsGlTextures=[],r.application=Object.create(null),t.childNodes.forEach(function(t){switch(t.nodeName){case"uses-permission":r.usesPermissions.push(e.collapseAttributes(t));break;case"uses-permission-sdk-23":r.usesPermissionsSDK23.push(e.collapseAttributes(t));break;case"permission":r.permissions.push(e.collapseAttributes(t));break;case"permission-tree":r.permissionTrees.push(e.collapseAttributes(t));break;case"permission-group":r.permissionGroups.push(e.collapseAttributes(t));break;case"instrumentation":r.instrumentation=e.collapseAttributes(t);break;case"uses-sdk":r.usesSdk=e.collapseAttributes(t);break;case"uses-configuration":r.usesConfiguration=e.collapseAttributes(t);break;case"uses-feature":r.usesFeatures.push(e.collapseAttributes(t));break;case"supports-screens":r.supportsScreens=e.collapseAttributes(t);break;case"compatible-screens":t.childNodes.forEach(function(t){return r.compatibleScreens.push(e.collapseAttributes(t))});break;case"supports-gl-texture":r.supportsGlTextures.push(e.collapseAttributes(t));break;case"application":r.application=e.parseApplication(t)}}),r}}])&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.exports=o},{"./binary":1}]},{},[2])(2)});
//# sourceMappingURL=./dist/ManifestParser.mini.js.map]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-04-20 23:41:11</sys_created_on>
        <sys_id>49808f77802102107f44bb7478ec35a9</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>ManifestParser</sys_name>
        <sys_package display_value="Safety" source="x_snc_safety">84e50a78892102107f447003c6ac9144</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Safety">84e50a78892102107f447003c6ac9144</sys_scope>
        <sys_update_name>sys_script_include_49808f77802102107f44bb7478ec35a9</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-04-21 00:04:56</sys_updated_on>
    </sys_script_include>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Safety">84e50a78892102107f447003c6ac9144</application>
        <file_path/>
        <instance_id>212e7868c3e5ced45404dbdf0501314a</instance_id>
        <instance_name>nowlearning-nlinst01629409-0001</instance_name>
        <name>sys_script_include_49808f77802102107f44bb7478ec35a9</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;x_snc_safety.ManifestParser&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;Android Manifest Parser&lt;/description&gt;&lt;name&gt;ManifestParser&lt;/name&gt;&lt;script&gt;&lt;![CDATA[!function(e){if("object"==typeof exports&amp;&amp;"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&amp;&amp;define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ManifestParser=e()}}(function(){return function(){return function e(t,r,s){function a(i,o){if(!r[i]){if(!t[i]){var u="function"==typeof require&amp;&amp;require;if(!o&amp;&amp;u)return u(i,!0);if(n)return n(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){return a(t[i][1][e]||e)},l,l.exports,e,t,r,s)}return r[i].exports}for(var n="function"==typeof require&amp;&amp;require,i=0;i&lt;s.length;i++)a(s[i]);return a}}()({1:[function(e,t,r){"use strict";function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r&lt;t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&amp;&amp;(s.writable=!0),Object.defineProperty(e,n(s.key),s)}}function n(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var i=1,o=2,u=4,c=0,l=1,d=3,h=256,p=257,b=258,g=259,f=260,v=384,y=1,m=256,k=1,S=0,U=1,E=4,w=5,A=3,N=0,T=2,x=5,C=6,P=18,I=30,L=28,X=31,D=29,O=16,H=17,z=0,F=1,j=3,R=function(){return e=function e(t){var r=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=t,this.cursor=0,this.strings=[],this.resources=[],this.document=null,this.parent=null,this.stack=[],this.debug=r.debug||!1},(t=[{key:"readU8",value:function(){this.debug&amp;&amp;console.group("readU8"),this.debug&amp;&amp;console.debug("cursor:",this.cursor);var e=this.buffer[this.cursor];return this.debug&amp;&amp;console.debug("value:",e),this.cursor+=1,this.debug&amp;&amp;console.groupEnd(),e}},{key:"readU16",value:function(){this.debug&amp;&amp;console.group("readU16"),this.debug&amp;&amp;console.debug("cursor:",this.cursor);var e=this.buffer.readUInt16LE(this.cursor);return this.debug&amp;&amp;console.debug("value:",e),this.cursor+=2,this.debug&amp;&amp;console.groupEnd(),e}},{key:"readS32",value:function(){this.debug&amp;&amp;console.group("readS32"),this.debug&amp;&amp;console.debug("cursor:",this.cursor);var e=this.buffer.readInt32LE(this.cursor);return this.debug&amp;&amp;console.debug("value:",e),this.cursor+=4,this.debug&amp;&amp;console.groupEnd(),e}},{key:"readU32",value:function(){this.debug&amp;&amp;console.group("readU32"),this.debug&amp;&amp;console.debug("cursor:",this.cursor);var e=this.buffer.readUInt32LE(this.cursor);return this.debug&amp;&amp;console.debug("value:",e),this.cursor+=4,this.debug&amp;&amp;console.groupEnd(),e}},{key:"readLength8",value:function(){this.debug&amp;&amp;console.group("readLength8");var e=this.readU8();return 128&amp;e&amp;&amp;(e=(127&amp;e)&lt;&lt;8,e+=this.readU8()),this.debug&amp;&amp;console.debug("length:",e),this.debug&amp;&amp;console.groupEnd(),e}},{key:"readLength16",value:function(){this.debug&amp;&amp;console.group("readLength16");var e=this.readU16();return 32768&amp;e&amp;&amp;(e=(32767&amp;e)&lt;&lt;16,e+=this.readU16()),this.debug&amp;&amp;console.debug("length:",e),this.debug&amp;&amp;console.groupEnd(),e}},{key:"readDimension",value:function(){this.debug&amp;&amp;console.group("readDimension");var e={value:null,unit:null,rawUnit:null},t=this.readU32(),r=255&amp;e.value;switch(e.value=t&gt;&gt;8,e.rawUnit=r,r){case w:e.unit="mm";break;case N:e.unit="px";break;case k:e.unit="dp";break;case T:e.unit="sp";break;case A:e.unit="pt";break;case E:e.unit="in"}return this.debug&amp;&amp;console.groupEnd(),e}},{key:"readFraction",value:function(){this.debug&amp;&amp;console.group("readFraction");var e={value:null,type:null,rawType:null},t=this.readU32(),r=15&amp;t;switch(e.value=this.convertIntToFloat(t&gt;&gt;4),e.rawType=r,r){case S:e.type="%";break;case U:e.type="%p"}return this.debug&amp;&amp;console.groupEnd(),e}},{key:"readHex24",value:function(){this.debug&amp;&amp;console.group("readHex24");var e=(16777215&amp;this.readU32()).toString(16);return this.debug&amp;&amp;console.groupEnd(),e}},{key:"readHex32",value:function(){this.debug&amp;&amp;console.group("readHex32");var e=this.readU32().toString(16);return this.debug&amp;&amp;console.groupEnd(),e}},{key:"readTypedValue",value:function(){this.debug&amp;&amp;console.group("readTypedValue");var e={value:null,type:null,rawType:null},t=this.cursor,r=this.readU16();this.readU8();var s=this.readU8();switch(0===r&amp;&amp;(r=8),e.rawType=s,s){case O:e.value=this.readS32(),e.type="int_dec";break;case H:e.value=this.readS32(),e.type="int_hex";break;case j:var a=this.readS32();e.value=a&gt;0?this.strings[a]:"",e.type="string";break;case F:var n=this.readU32();e.value="resourceId:0x".concat(n.toString(16)),e.type="reference";break;case P:e.value=0!==this.readS32(),e.type="boolean";break;case z:this.readU32(),e.value=null,e.type="null";break;case D:e.value=this.readHex24(),e.type="rgb8";break;case X:e.value=this.readHex24(),e.type="rgb4";break;case L:e.value=this.readHex32(),e.type="argb8";break;case I:e.value=this.readHex32(),e.type="argb4";break;case x:e.value=this.readDimension(),e.type="dimension";break;case C:e.value=this.readFraction(),e.type="fraction";break;default:var i=s.toString(16);console.debug("Not sure what to do with typed value of type 0x".concat(i,", falling back to reading an uint32.")),e.value=this.readU32(),e.type="unknown"}var o=t+r;if(this.cursor!==o){var u=s.toString(16),c=o-this.cursor;console.debug("Cursor is off by ".concat(c," bytes at ").concat(this.cursor," at supposed end of typed value of type 0x").concat(u,". The typed value started at offset ").concat(t," and is supposed to end at offset ").concat(o,". Ignoring the rest of the value.")),this.cursor=o}return this.debug&amp;&amp;console.groupEnd(),e}},{key:"convertIntToFloat",value:function(e){var t=new ArrayBuffer(4);return new Int32Array(t)[0]=e,new Float32Array(t)[0]}},{key:"readString",value:function(e){switch(this.debug&amp;&amp;console.group("readString",e),e){case"utf-8":var t=this.readLength8(e);this.debug&amp;&amp;console.debug("stringLength:",t);var r=this.readLength8(e);this.debug&amp;&amp;console.debug("byteLength:",r);var s=this.buffer.toString(e,this.cursor,this.cursor+=r);return this.debug&amp;&amp;console.debug("value:",s),this.debug&amp;&amp;console.groupEnd(),s;case"ucs2":return t=this.readLength16(e),this.debug&amp;&amp;console.debug("stringLength:",t),r=2*t,this.debug&amp;&amp;console.debug("byteLength:",r),s=this.buffer.toString(e,this.cursor,this.cursor+=r),this.debug&amp;&amp;console.debug("value:",s),this.debug&amp;&amp;console.groupEnd(),s;default:throw new Error("Unsupported encoding '".concat(e,"'"))}}},{key:"readChunkHeader",value:function(){this.debug&amp;&amp;console.group("readChunkHeader");var e={startOffset:this.cursor,chunkType:this.readU16(),headerSize:this.readU16(),chunkSize:this.readU32()};return this.debug&amp;&amp;console.debug("startOffset:",e.startOffset),this.debug&amp;&amp;console.debug("chunkType:",e.chunkType),this.debug&amp;&amp;console.debug("headerSize:",e.headerSize),this.debug&amp;&amp;console.debug("chunkSize:",e.chunkSize),this.debug&amp;&amp;console.groupEnd(),e}},{key:"readStringPool",value:function(e){if(this.debug&amp;&amp;console.group("readStringPool"),e.stringCount=this.readU32(),this.debug&amp;&amp;console.debug("stringCount:",e.stringCount),e.styleCount=this.readU32(),this.debug&amp;&amp;console.debug("styleCount:",e.styleCount),e.flags=this.readU32(),this.debug&amp;&amp;console.debug("flags:",e.flags),e.stringsStart=this.readU32(),this.debug&amp;&amp;console.debug("stringsStart:",e.stringsStart),e.stylesStart=this.readU32(),this.debug&amp;&amp;console.debug("stylesStart:",e.stylesStart),e.chunkType!==l)throw new Error("Invalid string pool header");for(var t=[],r=0,s=e.stringCount;r&lt;s;++r)this.debug&amp;&amp;console.debug("offset:",r),t.push(this.readU32());var a=(e.flags&amp;y)===y;this.debug&amp;&amp;console.debug("sorted:",a);var n=(e.flags&amp;m)===m?"utf-8":"ucs2";this.debug&amp;&amp;console.debug("encoding:",n);var i=e.startOffset+e.stringsStart;this.cursor=i;for(var o=0,u=e.stringCount;o&lt;u;++o)this.debug&amp;&amp;console.debug("string:",o),this.debug&amp;&amp;console.debug("offset:",t[o]),this.cursor=i+t[o],this.strings.push(this.readString(n));return this.cursor=e.startOffset+e.chunkSize,this.debug&amp;&amp;console.groupEnd(),null}},{key:"readResourceMap",value:function(e){this.debug&amp;&amp;console.group("readResourceMap");for(var t=Math.floor((e.chunkSize-e.headerSize)/4),r=0;r&lt;t;++r)this.resources.push(this.readU32());return this.debug&amp;&amp;console.groupEnd(),null}},{key:"readXmlNamespaceStart",value:function(){return this.debug&amp;&amp;console.group("readXmlNamespaceStart"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.debug&amp;&amp;console.groupEnd(),null}},{key:"readXmlNamespaceEnd",value:function(){return this.debug&amp;&amp;console.group("readXmlNamespaceEnd"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.debug&amp;&amp;console.groupEnd(),null}},{key:"readXmlElementStart",value:function(){this.debug&amp;&amp;console.group("readXmlElementStart");var e={namespaceURI:null,nodeType:i,nodeName:null,attributes:[],childNodes:[]};this.readU32(),this.readU32();var t=this.readS32(),r=this.readS32();t&gt;0&amp;&amp;(e.namespaceURI=this.strings[t]),e.nodeName=this.strings[r],this.readU16(),this.readU16();var s=this.readU16();this.readU16(),this.readU16(),this.readU16();for(var a=0;a&lt;s;++a)e.attributes.push(this.readXmlAttribute());return this.document?(this.parent.childNodes.push(e),this.parent=e):this.document=this.parent=e,this.stack.push(e),this.debug&amp;&amp;console.groupEnd(),e}},{key:"readXmlAttribute",value:function(){this.debug&amp;&amp;console.group("readXmlAttribute");var e={namespaceURI:null,nodeType:o,nodeName:null,name:null,value:null,typedValue:null},t=this.readS32(),r=this.readS32(),s=this.readS32();return t&gt;0&amp;&amp;(e.namespaceURI=this.strings[t]),e.nodeName=e.name=this.strings[r],s&gt;0&amp;&amp;("versionName"===e.name&amp;&amp;(this.strings[s]=this.strings[s].replace(/[^\d\w-.]/g,"")),e.value=this.strings[s]),e.typedValue=this.readTypedValue(),this.debug&amp;&amp;console.groupEnd(),e}},{key:"readXmlElementEnd",value:function(){return this.debug&amp;&amp;console.group("readXmlCData"),this.readU32(),this.readU32(),this.readS32(),this.readS32(),this.stack.pop(),this.parent=this.stack[this.stack.length-1],this.debug&amp;&amp;console.groupEnd(),null}},{key:"readXmlCData",value:function(){this.debug&amp;&amp;console.group("readXmlCData");var e={namespaceURI:null,nodeType:u,nodeName:"#cdata",data:null,typedValue:null};this.readU32(),this.readU32();var t=this.readS32();return t&gt;0&amp;&amp;(e.data=this.strings[t]),e.typedValue=this.readTypedValue(),this.parent.childNodes.push(e),this.debug&amp;&amp;console.groupEnd(),e}},{key:"readNull",value:function(e){return this.debug&amp;&amp;console.group("readNull"),this.cursor+=e.chunkSize-e.headerSize,this.debug&amp;&amp;console.groupEnd(),null}},{key:"parse",value:function(){if(this.debug&amp;&amp;console.group("BinaryXmlParser.parse"),this.readChunkHeader().chunkType!==d)throw new Error("Invalid XML header");for(;this.cursor&lt;this.buffer.length;){this.debug&amp;&amp;console.group("chunk");var e=this.cursor,t=this.readChunkHeader();switch(t.chunkType){case l:this.readStringPool(t);break;case v:this.readResourceMap(t);break;case h:this.readXmlNamespaceStart(t);break;case p:this.readXmlNamespaceEnd(t);break;case b:this.readXmlElementStart(t);break;case g:this.readXmlElementEnd(t);break;case f:this.readXmlCData(t);break;case c:this.readNull(t);break;default:throw new Error("Unsupported chunk type '".concat(t.chunkType,"'"))}var r=e+t.chunkSize;if(this.cursor!==r){var s=r-this.cursor,a=t.chunkType.toString(16);console.debug("Cursor is off by ".concat(s," bytes at ").concat(this.cursor," at supposed end of chunk of type 0x").concat(a,". The chunk started at offset ").concat(e," and is supposed to end at offset ").concat(r,". Ignoring the rest of the chunk.")),this.cursor=r}this.debug&amp;&amp;console.groupEnd()}return this.debug&amp;&amp;console.groupEnd(),this.document}}])&amp;&amp;a(e.prototype,t),r&amp;&amp;a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.exports=R},{}],2:[function(e,t,r){"use strict";function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r&lt;t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&amp;&amp;(s.writable=!0),Object.defineProperty(e,n(s.key),s)}}function n(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}var i=e("./binary"),o=function(){return e=function e(t){var r=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.buffer=t,this.xmlParser=new i(this.buffer,r)},(t=[{key:"collapseAttributes",value:function(e){for(var t=Object.create(null),r=0,s=Array.from(e.attributes);r&lt;s.length;r++){var a=s[r];t[a.name]=a.typedValue.value}return t}},{key:"parseIntents",value:function(e,t){var r=this;return t.intentFilters=[],t.metaData=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"intent-filter":var s=r.collapseAttributes(e);s.actions=[],s.categories=[],s.data=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"action":s.actions.push(r.collapseAttributes(e));break;case"category":s.categories.push(r.collapseAttributes(e));break;case"data":s.data.push(r.collapseAttributes(e))}}),t.intentFilters.push(s);break;case"meta-data":t.metaData.push(r.collapseAttributes(e))}})}},{key:"parseApplication",value:function(e){var t=this,r=this.collapseAttributes(e);return r.activities=[],r.activityAliases=[],r.launcherActivities=[],r.services=[],r.receivers=[],r.providers=[],r.usesLibraries=[],r.metaData=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"activity":var s=t.collapseAttributes(e);t.parseIntents(e,s),r.activities.push(s),t.isLauncherActivity(s)&amp;&amp;r.launcherActivities.push(s);break;case"activity-alias":var a=t.collapseAttributes(e);t.parseIntents(e,a),r.activityAliases.push(a),t.isLauncherActivity(a)&amp;&amp;r.launcherActivities.push(a);break;case"service":var n=t.collapseAttributes(e);t.parseIntents(e,n),r.services.push(n);break;case"receiver":var i=t.collapseAttributes(e);t.parseIntents(e,i),r.receivers.push(i);break;case"provider":var o=t.collapseAttributes(e);o.grantUriPermissions=[],o.metaData=[],o.pathPermissions=[],e.childNodes.forEach(function(e){switch(e.nodeName){case"grant-uri-permission":o.grantUriPermissions.push(t.collapseAttributes(e));break;case"meta-data":o.metaData.push(t.collapseAttributes(e));break;case"path-permission":o.pathPermissions.push(t.collapseAttributes(e))}}),r.providers.push(o);break;case"uses-library":r.usesLibraries.push(t.collapseAttributes(e));break;case"meta-data":r.metaData.push(t.collapseAttributes(e))}}),r}},{key:"isLauncherActivity",value:function(e){return e.intentFilters.some(function(e){return!!e.actions.some(function(e){return"android.intent.action.MAIN"===e.name})&amp;&amp;e.categories.some(function(e){return"android.intent.category.LAUNCHER"===e.name})})}},{key:"parse",value:function(){var e=this,t=this.xmlParser.parse(),r=this.collapseAttributes(t);return r.usesPermissions=[],r.usesPermissionsSDK23=[],r.permissions=[],r.permissionTrees=[],r.permissionGroups=[],r.instrumentation=null,r.usesSdk=null,r.usesConfiguration=null,r.usesFeatures=[],r.supportsScreens=null,r.compatibleScreens=[],r.supportsGlTextures=[],r.application=Object.create(null),t.childNodes.forEach(function(t){switch(t.nodeName){case"uses-permission":r.usesPermissions.push(e.collapseAttributes(t));break;case"uses-permission-sdk-23":r.usesPermissionsSDK23.push(e.collapseAttributes(t));break;case"permission":r.permissions.push(e.collapseAttributes(t));break;case"permission-tree":r.permissionTrees.push(e.collapseAttributes(t));break;case"permission-group":r.permissionGroups.push(e.collapseAttributes(t));break;case"instrumentation":r.instrumentation=e.collapseAttributes(t);break;case"uses-sdk":r.usesSdk=e.collapseAttributes(t);break;case"uses-configuration":r.usesConfiguration=e.collapseAttributes(t);break;case"uses-feature":r.usesFeatures.push(e.collapseAttributes(t));break;case"supports-screens":r.supportsScreens=e.collapseAttributes(t);break;case"compatible-screens":t.childNodes.forEach(function(t){return r.compatibleScreens.push(e.collapseAttributes(t))});break;case"supports-gl-texture":r.supportsGlTextures.push(e.collapseAttributes(t));break;case"application":r.application=e.parseApplication(t)}}),r}}])&amp;&amp;a(e.prototype,t),r&amp;&amp;a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}();t.exports=o},{"./binary":1}]},{},[2])(2)});
//# sourceMappingURL=./dist/ManifestParser.mini.js.map]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2024-04-20 23:41:11&lt;/sys_created_on&gt;&lt;sys_id&gt;49808f77802102107f44bb7478ec35a9&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;ManifestParser&lt;/sys_name&gt;&lt;sys_package display_value="Safety" source="x_snc_safety"&gt;84e50a78892102107f447003c6ac9144&lt;/sys_package&gt;&lt;sys_policy&gt;read&lt;/sys_policy&gt;&lt;sys_scope display_value="Safety"&gt;84e50a78892102107f447003c6ac9144&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_49808f77802102107f44bb7478ec35a9&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2024-04-21 00:04:56&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
        <payload_hash>1380314879</payload_hash>
        <record_name>ManifestParser</record_name>
        <reverted_from/>
        <source>09187425686502107f44e4fcecfb8ce7</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-04-21 00:04:57</sys_created_on>
        <sys_id>e726473b802102107f44bb7478ec35fa</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>18efdf860320000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-04-21 00:04:57</sys_updated_on>
        <type>Script Include</type>
        <update_guid>ef26473b65210210303a61e6ee2c73f9</update_guid>
        <update_guid_history>ef26473b65210210303a61e6ee2c73f9:1380314879,a7b083b7a4210210d1ad58c6c88bf26f:1611107729</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete/>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-04-21 00:29:55</sys_created_on>
        <sys_db_object display_value="" name="sys_script_include">sys_script_include</sys_db_object>
        <sys_id>1b5af21c46d74936a08b402481fd0644</sys_id>
        <sys_metadata>49808f77802102107f44bb7478ec35a9</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>ManifestParser</sys_name>
        <sys_package display_value="Safety" source="x_snc_safety">84e50a78892102107f447003c6ac9144</sys_package>
        <sys_parent/>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="Safety">84e50a78892102107f447003c6ac9144</sys_scope>
        <sys_scope_delete display_value="">166bc134d7044400ab07bbdd00982859</sys_scope_delete>
        <sys_update_name>sys_script_include_49808f77802102107f44bb7478ec35a9</sys_update_name>
        <sys_update_version display_value="sys_script_include_49808f77802102107f44bb7478ec35a9">e726473b802102107f44bb7478ec35fa</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-04-21 00:29:55</sys_updated_on>
    </sys_metadata_delete>
</record_update>
